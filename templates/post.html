<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>留言板</title>
    <link rel="stylesheet" href="/css/bootstrap.css">
</head>
<body>
    <ul class="nav nav-pills justify-content-end">
        <li class="nav-item">
          <a class="nav-link" href="signout">登出</a>
        </li>
      </ul>
    <center><h1>留言</h1></center>
        <center>
            <form class="table" action="{{ url_for('ps.post') }}" method="POST">
                暱稱: <input type="text" name="say_user"><br>
                標題: <input type="text" name="say_title"><br>
                內容: <input type="text" name="say"><br>
                <button>送出</button>
            </form>
        </center>
    <center>
        <table class="table" border="2">
            {{ pagination.info }}
            <table class="table table-sm">
            <thead>
            <tr>
                <th scope="col">筆數</th>
                <th scope="col">標題</th>
                <th scope="col">内容</th>
                <th scope="col">暱稱</th>
                <th scope="col">留言時間</th>
            </tr>
            </thead>
            <tbody>
            <!--skip((當前頁碼-1)*每頁顯示數).limit(每頁顯示數)  如：點擊第二页--偏移值為10，查找11位以後的數據截取前10個-->
            {% for say in says.skip((page-1)*per_page).limit(per_page) %}
              <tr>
                <td>{{ loop.index + pagination.skip }}</td>
                <td>{{ say['title'] }}</td>
                <td>{{ say['text'] }}</td>
                <td>{{ say['user'] }}</td>
                <td>{{ say['date'] }}</td>
              </tr>
            {% endfor %}
            </tbody>
            </table>
            {{ pagination.links }}
        </table>
    </center>
</body>
</html>